= RSR-Certified: Universal Rhodium Standard Repository Compliance
:author: Claude AI Assistant
:version: 0.1.0
:toc: left
:toclevels: 4
:sectnums:
:icons: font

== Project Vision

RSR-Certified is a **universal repository compliance engine** that brings the Rhodium Standard Repository (RSR) certification framework to every git platform, IDE, and development environment worldwide.

=== Core Philosophy

[quote]
____
One engine. Every platform. Universal excellence.
____

Rather than building separate apps for GitHub, GitLab, Bitbucket, Gitea, and others, we build:

1. **A single compliance engine** - containerized, portable, platform-agnostic
2. **Thin platform adapters** - lightweight shims that translate platform-specific webhooks/APIs
3. **Universal certification** - the same standards, everywhere

== Architecture Overview

[source,ascii]
----
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     RSR-CERTIFIED ECOSYSTEM                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   GitHub    â”‚  â”‚   GitLab    â”‚  â”‚  Bitbucket  â”‚  â”‚   Gitea   â”‚  â”‚
â”‚  â”‚   Adapter   â”‚  â”‚   Adapter   â”‚  â”‚   Adapter   â”‚  â”‚  Adapter  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â”‚                â”‚                â”‚               â”‚         â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                              â”‚                                       â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚                    â”‚  Universal Event  â”‚                            â”‚
â”‚                    â”‚    Translator     â”‚                            â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                              â”‚                                       â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚                    â”‚   RSR Compliance  â”‚â—„â”€â”€â”€â”€â”€â”                     â”‚
â”‚                    â”‚      Engine       â”‚      â”‚                     â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚                     â”‚
â”‚                              â”‚                â”‚                     â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                     â”‚
â”‚         â”‚                    â”‚                â”‚                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚   Badge     â”‚  â”‚  Certification  â”‚  â”‚   IDE     â”‚               â”‚
â”‚  â”‚  Generator  â”‚  â”‚    Reporter     â”‚  â”‚  Plugins  â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
----

== RSR Certification Tiers

The Rhodium Standard Repository certification uses a tiered system reflecting increasing levels of excellence:

=== Tier Definitions

[cols="1,2,3,2"]
|===
|Tier |Symbol |Requirements |Badge Color

|**Rhodium**
|â—† RSR-Rh
|Full compliance + exemplary practices + community contribution
|#E8E4E1 (Rhodium silver-white)

|**Gold**
|â˜… RSR-Au
|Full compliance + advanced security + comprehensive documentation
|#FFD700 (Gold)

|**Silver**
|â˜† RSR-Ag
|Core compliance + good practices + basic documentation
|#C0C0C0 (Silver)

|**Bronze**
|â— RSR-Cu
|Minimum viable compliance + essential structure
|#CD7F32 (Bronze)
|===

=== Detailed Certification Criteria

==== Bronze (RSR-Cu) - Foundation
[%hardbreaks]
Minimum requirements for any compliant repository:

* [ ] **LICENSE** - Valid open-source or proprietary license file
* [ ] **README** - Basic project description and purpose
* [ ] **.gitignore** - Appropriate ignore patterns for project type
* [ ] **No secrets** - No hardcoded credentials, API keys, or sensitive data
* [ ] **Valid structure** - Recognizable project organization

==== Silver (RSR-Ag) - Established
[%hardbreaks]
Building on Bronze, adds:

* [ ] **CONTRIBUTING.md** - Clear contribution guidelines
* [ ] **CODE_OF_CONDUCT.md** - Community standards
* [ ] **CHANGELOG.md** or equivalent - Version history tracking
* [ ] **Issue templates** - Structured bug/feature reporting
* [ ] **CI/CD configuration** - Automated testing/building
* [ ] **Dependency management** - Lock files, version pinning
* [ ] **Security policy** - SECURITY.md with disclosure process

==== Gold (RSR-Au) - Excellence
[%hardbreaks]
Building on Silver, adds:

* [ ] **Comprehensive documentation** - API docs, architecture docs
* [ ] **Test coverage** - Minimum 70% code coverage with reports
* [ ] **Dependency scanning** - Automated vulnerability checks
* [ ] **Signed commits** - GPG/SSH commit signing enabled
* [ ] **Branch protection** - Required reviews, status checks
* [ ] **Release automation** - Semantic versioning, release notes
* [ ] **Accessibility** - Documentation accessibility compliance
* [ ] **Multi-language support** - i18n readiness where applicable

==== Rhodium (RSR-Rh) - Exemplary
[%hardbreaks]
Building on Gold, adds:

* [ ] **Reproducible builds** - Deterministic build outputs
* [ ] **SBOM** - Software Bill of Materials
* [ ] **Supply chain security** - SLSA Level 2+ compliance
* [ ] **Threat model** - Documented security analysis
* [ ] **Performance benchmarks** - Automated regression detection
* [ ] **Community health** - Active maintenance, responsive issues
* [ ] **Upstream contribution** - Contributing back to dependencies
* [ ] **Sustainability** - Long-term maintenance plan documented

== Universal Platform Adapter Design

=== Event Abstraction Layer

All git platforms emit different webhook payloads. We normalize them:

[source,rust]
----
/// Universal repository event - platform agnostic
pub enum RepoEvent {
    Push(PushEvent),
    PullRequest(PullRequestEvent),
    Issue(IssueEvent),
    Release(ReleaseEvent),
    SecurityAlert(SecurityAlertEvent),
    WorkflowRun(WorkflowEvent),
    Comment(CommentEvent),
}

/// Platform adapter trait - implement for each git host
pub trait PlatformAdapter {
    /// Parse platform-specific webhook into universal event
    fn parse_webhook(&self, payload: &[u8], headers: &Headers) -> Result<RepoEvent>;

    /// Post compliance status back to platform
    fn post_status(&self, repo: &RepoRef, status: &ComplianceStatus) -> Result<()>;

    /// Fetch repository contents for analysis
    fn fetch_contents(&self, repo: &RepoRef, path: &str) -> Result<Vec<u8>>;

    /// Get repository metadata
    fn get_metadata(&self, repo: &RepoRef) -> Result<RepoMetadata>;
}
----

=== Supported Platforms

[cols="1,1,2,1"]
|===
|Platform |Adapter Status |Webhook Types |API Version

|GitHub
|ðŸŸ¢ Primary
|push, pull_request, issues, release, security_advisory
|REST v3 + GraphQL v4

|GitLab
|ðŸŸ¡ Planned
|push, merge_request, issue, release, vulnerability
|REST v4

|Bitbucket
|ðŸŸ¡ Planned
|repo:push, pullrequest:*, issue:*
|REST 2.0

|Gitea
|ðŸŸ¡ Planned
|push, pull_request, issues, release
|REST v1

|Forgejo
|ðŸŸ¡ Planned
|(same as Gitea)
|REST v1

|Azure DevOps
|ðŸ”´ Future
|git.push, git.pullrequest.*
|REST 6.0+

|AWS CodeCommit
|ðŸ”´ Future
|SNS notifications
|AWS SDK

|===

== Containerized Deployment

=== Why Podman/Docker?

[source,ascii]
----
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              DEPLOYMENT FLEXIBILITY                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚   Self-Hosted          Cloud Platforms              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚   â”‚ Podman  â”‚         â”‚  Kubernetes     â”‚          â”‚
â”‚   â”‚ Docker  â”‚         â”‚  Docker Swarm   â”‚          â”‚
â”‚   â”‚ LXC     â”‚         â”‚  AWS ECS/Fargateâ”‚          â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚  GCP Cloud Run  â”‚          â”‚
â”‚                       â”‚  Azure Containerâ”‚          â”‚
â”‚                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                     â”‚
â”‚   Edge/Desktop         Serverless                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚   â”‚ Podman  â”‚         â”‚  AWS Lambda     â”‚          â”‚
â”‚   â”‚ Desktop â”‚         â”‚  CloudFlare     â”‚          â”‚
â”‚   â”‚         â”‚         â”‚  Workers        â”‚          â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
----

=== Container Architecture

[source,dockerfile]
----
# Multi-stage build for minimal runtime image
FROM rust:1.75-alpine AS builder
# ... build compliance engine

FROM alpine:3.19 AS runtime
# Minimal runtime with just the compliance engine
COPY --from=builder /app/rsr-engine /usr/local/bin/
EXPOSE 8080
ENTRYPOINT ["rsr-engine"]
----

=== Compose Configuration

[source,yaml]
----
# podman-compose.yml / docker-compose.yml
version: "3.8"
services:
  rsr-engine:
    image: ghcr.io/hyperpolymath/rsr-certified:latest
    ports:
      - "8080:8080"
    environment:
      - RSR_PLATFORMS=github,gitlab,bitbucket
      - RSR_LOG_LEVEL=info
    volumes:
      - ./config:/etc/rsr:ro
      - rsr-cache:/var/cache/rsr

  rsr-worker:
    image: ghcr.io/hyperpolymath/rsr-certified:latest
    command: ["worker"]
    environment:
      - RSR_QUEUE_URL=redis://redis:6379
    depends_on:
      - redis

  redis:
    image: redis:7-alpine
    volumes:
      - redis-data:/data

volumes:
  rsr-cache:
  redis-data:
----

== IDE Extension Strategy

=== Universal Extension Core

Rather than writing separate extensions for each IDE, we build:

1. **Language Server Protocol (LSP) Server** - Universal IDE integration
2. **Thin IDE shims** - Platform-specific wrappers

[source,ascii]
----
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  IDE INTEGRATION LAYER                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ VSCode  â”‚ â”‚ Neovim  â”‚ â”‚ Emacs   â”‚ â”‚ JetBrains IDEs  â”‚â”‚
â”‚  â”‚Extensionâ”‚ â”‚ Plugin  â”‚ â”‚ Package â”‚ â”‚    Plugin       â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚       â”‚           â”‚           â”‚               â”‚          â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                        â”‚                                  â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚              â”‚   RSR LSP Server  â”‚                       â”‚
â”‚              â”‚  (runs locally or â”‚                       â”‚
â”‚              â”‚   in container)   â”‚                       â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                        â”‚                                  â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚              â”‚  Compliance Engineâ”‚                       â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
----

=== Supported IDEs/Editors

[cols="1,1,2"]
|===
|Editor/IDE |Integration Type |Status

|VS Code
|Native Extension + LSP
|ðŸŸ¢ Primary

|Neovim
|LSP Client
|ðŸŸ¢ Planned

|Emacs
|LSP (lsp-mode/eglot)
|ðŸŸ¢ Planned

|JetBrains (IntelliJ, PyCharm, etc.)
|Plugin + LSP
|ðŸŸ¡ Planned

|Sublime Text
|LSP Client
|ðŸŸ¡ Planned

|Notepad++
|Plugin (limited)
|ðŸŸ¡ Planned

|Vim
|LSP (via coc.nvim/vim-lsp)
|ðŸŸ¢ Planned

|Helix
|Native LSP
|ðŸŸ¢ Planned

|Zed
|Native LSP
|ðŸŸ¢ Planned

|===

== Project Structure

[source]
----
git-rsr-certified/
â”œâ”€â”€ claude.adoc                 # This file - project documentation
â”œâ”€â”€ README.md                   # Quick start guide
â”œâ”€â”€ LICENSE                     # Apache 2.0 + MIT dual license
â”œâ”€â”€ CONTRIBUTING.md             # Contribution guidelines
â”œâ”€â”€ SECURITY.md                 # Security policy
â”‚
â”œâ”€â”€ engine/                     # Core compliance engine (Rust)
â”‚   â”œâ”€â”€ Cargo.toml
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ lib.rs             # Library root
â”‚   â”‚   â”œâ”€â”€ main.rs            # CLI/Server entry point
â”‚   â”‚   â”œâ”€â”€ compliance/        # Compliance checking logic
â”‚   â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”‚   â”œâ”€â”€ bronze.rs
â”‚   â”‚   â”‚   â”œâ”€â”€ silver.rs
â”‚   â”‚   â”‚   â”œâ”€â”€ gold.rs
â”‚   â”‚   â”‚   â””â”€â”€ rhodium.rs
â”‚   â”‚   â”œâ”€â”€ adapters/          # Platform adapters
â”‚   â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”‚   â”œâ”€â”€ github.rs
â”‚   â”‚   â”‚   â”œâ”€â”€ gitlab.rs
â”‚   â”‚   â”‚   â”œâ”€â”€ bitbucket.rs
â”‚   â”‚   â”‚   â””â”€â”€ gitea.rs
â”‚   â”‚   â”œâ”€â”€ events/            # Event abstraction
â”‚   â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”‚   â””â”€â”€ types.rs
â”‚   â”‚   â””â”€â”€ server/            # HTTP server for webhooks
â”‚   â”‚       â”œâ”€â”€ mod.rs
â”‚   â”‚       â””â”€â”€ routes.rs
â”‚   â””â”€â”€ tests/
â”‚
â”œâ”€â”€ lsp/                        # Language Server Protocol implementation
â”‚   â”œâ”€â”€ Cargo.toml
â”‚   â””â”€â”€ src/
â”‚       â””â”€â”€ main.rs
â”‚
â”œâ”€â”€ extensions/                 # IDE extensions
â”‚   â”œâ”€â”€ vscode/                # VS Code extension
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”œâ”€â”€ neovim/                # Neovim plugin
â”‚   â””â”€â”€ jetbrains/             # JetBrains plugin
â”‚
â”œâ”€â”€ container/                  # Container build files
â”‚   â”œâ”€â”€ Containerfile          # Podman/Docker build
â”‚   â”œâ”€â”€ compose.yml            # Compose orchestration
â”‚   â””â”€â”€ k8s/                   # Kubernetes manifests
â”‚
â”œâ”€â”€ badges/                     # Badge assets
â”‚   â”œâ”€â”€ rhodium.svg
â”‚   â”œâ”€â”€ gold.svg
â”‚   â”œâ”€â”€ silver.svg
â”‚   â””â”€â”€ bronze.svg
â”‚
â”œâ”€â”€ schemas/                    # JSON schemas for config
â”‚   â””â”€â”€ rsr-config.schema.json
â”‚
â””â”€â”€ .github/                    # GitHub-specific (meta: self-compliance)
    â”œâ”€â”€ workflows/
    â”‚   â”œâ”€â”€ ci.yml
    â”‚   â””â”€â”€ release.yml
    â””â”€â”€ ISSUE_TEMPLATE/
----

== Configuration

=== Repository Configuration

Repositories can customize compliance via `.rsr.toml`:

[source,toml]
----
# .rsr.toml - RSR compliance configuration
[compliance]
target_tier = "gold"           # Tier we're aiming for
strict_mode = false            # Fail CI on non-compliance?

[checks]
# Override specific checks
license.required = true
license.allowed = ["MIT", "Apache-2.0", "GPL-3.0"]

readme.min_length = 100        # Minimum README length
readme.required_sections = ["Installation", "Usage"]

[ignore]
# Paths to ignore in compliance scanning
paths = [
    "vendor/",
    "third_party/",
    ".git/",
]

[badges]
# Badge configuration
style = "flat-square"          # flat, flat-square, for-the-badge
include_score = true           # Show compliance percentage
----

== API Design

=== REST API Endpoints

[source]
----
POST /webhook/{platform}       # Receive platform webhooks
GET  /api/v1/repo/{owner}/{repo}/status    # Get compliance status
GET  /api/v1/repo/{owner}/{repo}/badge     # Get badge SVG
GET  /api/v1/repo/{owner}/{repo}/report    # Get detailed report
POST /api/v1/analyze           # Analyze repository on-demand

# Health & metrics
GET  /health                   # Health check
GET  /metrics                  # Prometheus metrics
----

=== LSP Methods

[source]
----
# Standard LSP
initialize
shutdown
textDocument/didOpen
textDocument/didSave

# Custom RSR methods
rsr/getCompliance              # Get current compliance status
rsr/runCheck                   # Run specific compliance check
rsr/getTier                    # Get current certification tier
rsr/suggestFixes               # Get fix suggestions
----

== Security Considerations

=== Webhook Verification

Each platform adapter MUST verify webhook authenticity:

[source,rust]
----
impl PlatformAdapter for GitHubAdapter {
    fn verify_webhook(&self, payload: &[u8], signature: &str) -> Result<bool> {
        // GitHub uses HMAC-SHA256
        let expected = hmac_sha256(self.webhook_secret, payload);
        constant_time_eq(signature, &format!("sha256={}", hex::encode(expected)))
    }
}
----

=== Secret Detection

The engine includes comprehensive secret detection:

- API keys (AWS, GCP, Azure, etc.)
- Private keys (RSA, EC, Ed25519)
- Database connection strings
- OAuth tokens
- JWT secrets
- Generic high-entropy strings

=== Supply Chain

This project itself aims for Rhodium compliance:

- SLSA Level 3 builds
- Signed releases
- Reproducible builds
- SBOM generation
- Dependency review automation

== Development Guidelines

=== For Claude AI Assistants

When working on this codebase:

1. **Always run tests** before committing
2. **Follow Rust idioms** - use clippy, rustfmt
3. **Document public APIs** - every public item needs docs
4. **Consider all platforms** - changes should be platform-agnostic
5. **Security first** - never skip webhook verification, input validation

=== Commit Convention

[source]
----
type(scope): subject

Types: feat, fix, docs, style, refactor, test, chore
Scopes: engine, lsp, vscode, github, gitlab, bitbucket, ci

Examples:
feat(engine): add Gitea platform adapter
fix(github): correct webhook signature verification
docs(lsp): document custom RSR methods
----

== Roadmap

=== Phase 1: Foundation (Current)
- [x] Project structure
- [x] claude.adoc documentation
- [ ] Core compliance engine skeleton
- [ ] Bronze tier checks implementation
- [ ] GitHub adapter (primary platform)

=== Phase 2: Core Features
- [ ] Silver/Gold tier checks
- [ ] GitLab adapter
- [ ] Bitbucket adapter
- [ ] Badge generation
- [ ] Basic web UI

=== Phase 3: IDE Integration
- [ ] LSP server implementation
- [ ] VS Code extension
- [ ] Neovim plugin

=== Phase 4: Advanced
- [ ] Rhodium tier checks
- [ ] SLSA integration
- [ ] SBOM generation
- [ ] Performance benchmarking
- [ ] Cloud deployment templates

=== Phase 5: Ecosystem
- [ ] GitHub Marketplace app
- [ ] GitLab integration
- [ ] Public badge service
- [ ] Community tier definitions

== License

This project is dual-licensed under Apache 2.0 and MIT licenses.
You may choose either license for your use.

---

[.text-center]
**RSR-Certified** - Raising the bar for repository excellence, everywhere.
